<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí∞ Earnly Official - Watch Ads & Earn Money</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Unity Ads SDK -->
    <script src="https://webgl.unityads.unity3d.com/main.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Arial; }
        body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; min-height: 100vh; padding: 15px; }
        
        .container { max-width: 100%; margin: 0 auto; }
        
        /* Header */
        .header { text-align: center; padding: 25px 20px; background: rgba(255,255,255,0.1); border-radius: 20px; margin-bottom: 20px; backdrop-filter: blur(10px); }
        .logo { font-size: 45px; margin-bottom: 10px; }
        .header h1 { font-size: 26px; color: #f6e05e; margin-bottom: 5px; }
        
        /* Balance */
        .balance { background: linear-gradient(135deg, #f6e05e, #fbbf24); padding: 25px; border-radius: 20px; text-align: center; margin: 20px 0; box-shadow: 0 10px 30px rgba(246,224,94,0.3); }
        .balance-amount { font-size: 48px; font-weight: 800; color: #2d3748; text-shadow: 0 0 20px rgba(255,255,255,0.5); }
        
        /* Stats */
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 25px 0; }
        .stat-card { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
        .stat-value { font-size: 28px; font-weight: bold; color: #f6e05e; margin: 5px 0; }
        
        /* Buttons */
        .btn { width: 100%; padding: 18px; border: none; border-radius: 15px; font-size: 17px; font-weight: 600; margin: 10px 0; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 12px; }
        .btn-primary { background: linear-gradient(135deg, #f6e05e, #fbbf24); color: #2d3748; box-shadow: 0 5px 20px rgba(246,224,94,0.4); }
        .btn-secondary { background: linear-gradient(135deg, #4CAF50, #2E7D32); color: white; box-shadow: 0 5px 20px rgba(76,175,80,0.4); }
        .btn-warning { background: linear-gradient(135deg, #2196F3, #0D47A1); color: white; box-shadow: 0 5px 20px rgba(33,150,243,0.4); }
        
        /* Referral */
        .referral { background: linear-gradient(135deg, #9C27B0, #6A1B9A); padding: 25px; border-radius: 20px; margin: 25px 0; }
        .referral-link { background: rgba(255,255,255,0.15); padding: 15px; border-radius: 10px; margin: 20px 0; word-break: break-all; }
        
        /* Notification */
        .notification { position: fixed; top: 20px; right: 20px; background: #10B981; color: white; padding: 15px 25px; border-radius: 10px; display: none; z-index: 1000; box-shadow: 0 5px 15px rgba(16,185,129,0.4); animation: slideIn 0.5s; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">ü™ô</div>
            <h1>Earnly Official</h1>
            <p>Watch Ads & Earn Real Money</p>
        </div>
        
        <!-- Balance -->
        <div class="balance">
            <div style="font-size: 16px; color: #4a5568; margin-bottom: 10px;">Available Balance</div>
            <div class="balance-amount">‡ß≥ <span id="balance">0.00</span></div>
            <div style="margin-top: 10px; font-size: 14px; color: #4a5568;">
                Points: <span id="points">0</span> | Today: ‡ß≥<span id="todayEarned">0.00</span>
            </div>
        </div>
        
        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div>üì∫</div>
                <div class="stat-value" id="adsWatched">0</div>
                <div style="font-size: 12px; opacity: 0.7;">Ads Watched</div>
            </div>
            <div class="stat-card">
                <div>üë•</div>
                <div class="stat-value" id="referrals">0</div>
                <div style="font-size: 12px; opacity: 0.7;">Referrals</div>
            </div>
            <div class="stat-card">
                <div>üí∞</div>
                <div class="stat-value">‡ß≥<span id="totalEarned">0</span></div>
                <div style="font-size: 12px; opacity: 0.7;">Total Earned</div>
            </div>
            <div class="stat-card">
                <div>üè¶</div>
                <div class="stat-value">‡ß≥<span id="withdrawn">0</span></div>
                <div style="font-size: 12px; opacity: 0.7;">Withdrawn</div>
            </div>
        </div>
        
        <!-- Ad Section -->
        <div class="header" style="margin-top: 20px;">
            <h3>üì∫ Watch Ads & Earn</h3>
            <p>Each ad gives ‡ß≥2.00 | Daily limit: 25 ads</p>
            <div style="margin: 15px 0; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span>Progress</span>
                    <span id="adCounter">0/25</span>
                </div>
                <div style="height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                    <div id="adProgressBar" style="height: 100%; background: #f6e05e; border-radius: 4px; width: 0%; transition: width 0.5s;"></div>
                </div>
            </div>
            <button class="btn btn-primary" onclick="watchAd()">
                <span>‚ñ∂Ô∏è</span>
                <span>Watch Ad & Earn ‡ß≥2.00</span>
            </button>
        </div>
        
        <!-- Referral -->
        <div class="referral">
            <h3 style="margin-bottom: 10px;">üë• Refer & Earn ‡ß≥100</h3>
            <p style="margin-bottom: 15px; opacity: 0.9; font-size: 14px;">
                Share your link and earn ‡ß≥100 per referral + 10% from their earnings!
            </p>
            <div class="referral-link" id="refLink">
                https://t.me/Earnly_Official_bot?start=ref_loading...
            </div>
            <button class="btn btn-warning" onclick="copyRefLink()">
                <span>üìã</span>
                <span>Copy Referral Link</span>
            </button>
            <button class="btn btn-secondary" onclick="shareRefLink()" style="margin-top: 10px;">
                <span>üì¢</span>
                <span>Share with Friends</span>
            </button>
        </div>
        
        <!-- Withdrawal -->
        <div class="header">
            <h3>üí≥ Withdraw Money</h3>
            <p>Minimum: ‡ß≥200 | Fee: ‡ß≥10</p>
            <div style="display: flex; gap: 10px; margin: 20px 0;">
                <button style="flex: 1; padding: 15px; background: #38a169; border: none; border-radius: 10px; color: white;" onclick="selectMethod('bkash')">bKash</button>
                <button style="flex: 1; padding: 15px; background: #3182ce; border: none; border-radius: 10px; color: white;" onclick="selectMethod('nagad')">Nagad</button>
                <button style="flex: 1; padding: 15px; background: #805ad5; border: none; border-radius: 10px; color: white;" onclick="selectMethod('rocket')">Rocket</button>
            </div>
            <button class="btn btn-warning" onclick="withdrawMoney()">
                <span>üí∞</span>
                <span>Withdraw Now</span>
            </button>
        </div>
        
        <!-- Footer -->
        <div style="text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 12px; opacity: 0.7;">
            <p>¬© 2024 Earnly Official. All rights reserved.</p>
            <p style="margin-top: 5px;">Contact: @EarnlySupport | Daily Payouts</p>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification"></div>
    
    <script>
        // ==================== CONFIGURATION ====================
        const CONFIG = {
            botUsername: 'Earnly_Official_bot',
            adReward: 2.00,           // ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶è‡¶°‡ßá ‡¶ï‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ
            dailyAdLimit: 25,         // ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶° ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü
            minWithdrawal: 200,       // ‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®
            withdrawalFee: 10,        // ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶® ‡¶´‡¶ø
            referralBonus: 100.00,    // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏
            commissionRate: 0.10      // ‡¶ï‡¶Æ‡¶ø‡¶∂‡¶® (10%)
        };
        
        // ==================== USER DATA ====================
        let userData = {
            balance: 0,
            points: 0,
            adsWatched: 0,
            todayEarned: 0,
            totalEarned: 0,
            withdrawn: 0,
            referrals: 0,
            referralEarnings: 0,
            dailyAds: { date: '', count: 0 },
            selectedMethod: 'bkash',
            refCode: 'REF' + Math.random().toString(36).substr(2, 8).toUpperCase()
        };
        
        // ==================== INITIALIZATION ====================
        function init() {
            // Load saved data
            const saved = localStorage.getItem('earnlyData');
            if (saved) userData = JSON.parse(saved);
            
            // Telegram Web App
            if (typeof Telegram !== 'undefined') {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                Telegram.WebApp.setHeaderColor('#667eea');
            }
            
            // Unity Ads
            if (typeof unityAds !== 'undefined') {
                unityAds.init('1234567', { testMode: true });
            }
            
            // Check daily reset
            checkDailyReset();
            
            // Update display
            updateDisplay();
            
            // Welcome
            setTimeout(() => showNotification('üéâ Welcome to Earnly Official!'), 1000);
        }
        
        // ==================== AD SYSTEM ====================
        async function watchAd() {
            // Check limit
            if (userData.dailyAds.count >= CONFIG.dailyAdLimit) {
                showNotification('üéØ Daily limit reached! Come back tomorrow.');
                return;
            }
            
            // Show loading
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚è≥ Loading ad...';
            btn.disabled = true;
            
            try {
                // Show ad (Unity or simulated)
                let adSuccess = false;
                
                if (typeof unityAds !== 'undefined' && unityAds.isReady()) {
                    adSuccess = await showUnityAd();
                }
                
                if (!adSuccess) {
                    adSuccess = await showSimulatedAd();
                }
                
                if (adSuccess) {
                    // Add reward
                    userData.dailyAds.count++;
                    userData.adsWatched++;
                    userData.balance += CONFIG.adReward;
                    userData.todayEarned += CONFIG.adReward;
                    userData.totalEarned += CONFIG.adReward;
                    
                    // Save
                    saveData();
                    updateDisplay();
                    
                    showNotification(`‚úÖ +‡ß≥${CONFIG.adReward.toFixed(2)} earned!`);
                }
                
            } catch (error) {
                showNotification('‚ùå Ad failed. Try again.');
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }
        
        async function showUnityAd() {
            return new Promise((resolve) => {
                unityAds.show('rewardedVideo', {
                    onComplete: () => resolve(true),
                    onFailed: () => resolve(false)
                });
            });
        }
        
        async function showSimulatedAd() {
            return new Promise((resolve) => {
                showNotification('üì∫ Playing ad...');
                setTimeout(() => resolve(true), 3000);
            });
        }
        
        // ==================== REFERRAL SYSTEM ====================
        function copyRefLink() {
            const link = `https://t.me/${CONFIG.botUsername}?start=ref_${userData.refCode}`;
            navigator.clipboard.writeText(link);
            showNotification('üìã Link copied! Share with friends.');
        }
        
        function shareRefLink() {
            const message = `üí∞ Earn money with Earnly Official!\n\nWatch ads and earn real money. Use my referral link for bonus:\n\nhttps://t.me/${CONFIG.botUsername}?start=ref_${userData.refCode}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Earnly Official - Earn Money',
                    text: message
                }).then(() => {
                    // Bonus for sharing
                    userData.balance += 20;
                    saveData();
                    updateDisplay();
                    showNotification('üéâ +‡ß≥20 sharing bonus!');
                });
            } else {
                copyRefLink();
            }
        }
        
        // ==================== WITHDRAWAL SYSTEM ====================
        function selectMethod(method) {
            userData.selectedMethod = method;
            showNotification(`‚úÖ Selected: ${method.toUpperCase()}`);
        }
        
        function withdrawMoney() {
            if (userData.balance < CONFIG.minWithdrawal) {
                showNotification(`‚ö†Ô∏è Minimum withdrawal is ‡ß≥${CONFIG.minWithdrawal}`);
                return;
            }
            
            const netAmount = userData.balance - CONFIG.withdrawalFee;
            const method = userData.selectedMethod;
            
            const phone = prompt(`Enter your ${method} number (11 digits):\n\nYou will receive: ‡ß≥${netAmount.toFixed(2)}\nFee: ‡ß≥${CONFIG.withdrawalFee.toFixed(2)}`, '01XXXXXXXXX');
            
            if (!phone || phone.length !== 11) {
                showNotification('‚ùå Invalid number!');
                return;
            }
            
            if (confirm(`Confirm withdrawal of ‡ß≥${netAmount.toFixed(2)} to ${phone}?`)) {
                // Process
                showNotification('‚è≥ Processing withdrawal...');
                
                setTimeout(() => {
                    userData.withdrawn += netAmount;
                    userData.balance = 0;
                    userData.dailyAds.count = 0;
                    
                    saveData();
                    updateDisplay();
                    
                    alert(`‚úÖ Withdrawal successful!\n\n‡ß≥${netAmount.toFixed(2)} will be sent within 24 hours.\n\nTransaction ID: EAR${Date.now()}\nContact @EarnlySupport for help.`);
                    
                    showNotification('‚úÖ Withdrawal processed!');
                }, 2000);
            }
        }
        
        // ==================== UTILITIES ====================
        function updateDisplay() {
            document.getElementById('balance').textContent = userData.balance.toFixed(2);
            document.getElementById('points').textContent = userData.points;
            document.getElementById('todayEarned').textContent = userData.todayEarned.toFixed(2);
            document.getElementById('adsWatched').textContent = userData.adsWatched;
            document.getElementById('referrals').textContent = userData.referrals;
            document.getElementById('totalEarned').textContent = userData.totalEarned.toFixed(2);
            document.getElementById('withdrawn').textContent = userData.withdrawn.toFixed(2);
            
            // Ad progress
            const progress = (userData.dailyAds.count / CONFIG.dailyAdLimit) * 100;
            document.getElementById('adCounter').textContent = `${userData.dailyAds.count}/${CONFIG.dailyAdLimit}`;
            document.getElementById('adProgressBar').style.width = `${Math.min(progress, 100)}%`;
            
            // Referral link
            document.getElementById('refLink').textContent = 
                `https://t.me/${CONFIG.botUsername}?start=ref_${userData.refCode}`;
        }
        
        function saveData() {
            localStorage.setItem('earnlyData', JSON.stringify(userData));
        }
        
        function showNotification(message) {
            const notif = document.getElementById('notification');
            notif.textContent = message;
            notif.style.display = 'block';
            setTimeout(() => notif.style.display = 'none', 3000);
        }
        
        function checkDailyReset() {
            const today = new Date().toDateString();
            if (userData.dailyAds.date !== today) {
                userData.dailyAds.date = today;
                userData.dailyAds.count = 0;
                userData.todayEarned = 0;
                saveData();
            }
        }
        
        // Start
        window.onload = init;
        setInterval(checkDailyReset, 60000);
    </script>
</body>
    </html>
